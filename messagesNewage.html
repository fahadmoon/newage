<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Message Newage</title>
    <!-- CSS FILES -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <link href="css/bootstrap-icons.css" rel="stylesheet">

    <link href="css/newage.css" rel="stylesheet">
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" />

</head>

<body>
    <!-- Include Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-database-compat.js"></script>

    <!-- Your existing HTML code for the messages -->
 
       
    <script>
         
    
        const firebaseConfig = {
            apiKey: "AIzaSyDavl2c0jOvV_ffHyCMfsWZjeAAP44WNIY",
            authDomain: "contactform-f485f.firebaseapp.com",
            databaseURL: "https://contactform-f485f-default-rtdb.firebaseio.com",
            projectId: "contactform-f485f",
            storageBucket: "contactform-f485f.appspot.com",
            messagingSenderId: "650025216203",
            appId: "1:650025216203:web:215b14ee37ebeae14c934e"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);

        // Reference database
        const contactFormDB = firebase.database().ref("contactForm");

        // Function to fetch and display messages
       

        function fetchAndDisplayMessages() {
            contactFormDB.once('value').then((snapshot) => {

                // Clear previous messages
                document.getElementById('messages').innerHTML = '';
                document.getElementById('message').innerHTML = '';

                displaytable() ;

                // Iterate through each message
                snapshot.forEach((childSnapshot) => {
                    var message = childSnapshot.val();
                    displayMessage(message);
                });
            });
        }
        function displaytable() {
            var messageContainer = document.getElementById('message');
            var messageElement = document.createElement('div');

            // Customize the message display as needed
            messageElement.innerHTML = ` 
         
        
    `;

            messageContainer.appendChild(messageElement);
        }

        // Function to display a single message
        function displayMessage(message) {
            var messageContainer = document.getElementById('messages');
            var messageElement = document.createElement('div');

            // Customize the message display as needed
            messageElement.innerHTML = ` 
            <table class="table">
        <thead>
            <tr>
                <th scope="col">Name</th>
                <th scope="col">Phone No</th>
                <th scope="col">Email</th>

                <th scope="col">Description</th>
                <th scope="col">Message Date</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <th scope="row"> ${message.name}</th>
                <td>${message.phoneNo}</td>
                <td> ${message.email}</td>
                <td> ${message.description}</td>

                <td> ${message.date}</td>
            </tr>
          
        </tbody>
    </table>
    `;

            messageContainer.appendChild(messageElement);
        }

        // Fetch and display messages when the page loads
        document.addEventListener('DOMContentLoaded', fetchAndDisplayMessages);
    </script>

    <!-- Add a container to display messages -->
    <div id="message"></div>

    <div id="messages"></div>

   


    <!-- JAVASCRIPT FILES -->
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.sticky.js"></script>
    <script src="js/counter.js"></script>
    <script src="js/custom.js"></script>

</body>

</html>